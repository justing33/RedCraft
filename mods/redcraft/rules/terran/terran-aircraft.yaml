VIKING:
    Inherits: ^Helicopter
    AutoTarget:
    AutoTargetPriority@ATTACKGROUNDUNITSFIRST:
        Priority: 2
        ValidTargets: AirborneActor, Air
    AutoTargetPriority@ATTACKBUILDINGSSECOND:
        Priority: 1
        ValidTargets: Structure
    Buildable:
        Queue: Aircraft
        BuildAtProductionType: Plane
        BuildDuration: 750
        BuildPaletteOrder: 50
        Prerequisites: starport
        Description: TBD
    Valued:
        # Cost: 150
        Cost: 225
        # Oil: 75
        # Supply: 2
    Tooltip:
        Name: Viking
    UpdatesPlayerStatistics:
        AddToArmyValue: true
    Health:
        HP: 135
    Armor:
        Type: Light
        # Armored, Mechanical
    RevealsShroud:
        Range: 10c0
        Type: GroundPosition
        RevealGeneratedShroud: False
    RevealsShroud@GAPGEN:
        Range: 11c0
        Type: GroundPosition
    Armament:
        Weapon: VikingMissileAA
        LocalOffset: 0,-640,0, 0,640,0
        LocalYaw: -40, 24
        PauseOnCondition: !ammo
        # Infinite Ammo
        AmmoUsage: 0
    AmmoPool:
        Ammo: 8
        AmmoCondition: ammo
    AttackAircraft:
        FacingTolerance: 80
        PersistentTargeting: false
        OpportunityFire: true
    Aircraft:
        CruiseAltitude: 2560
        AltitudeVelocity: 0c75
        Speed: 120
        RepulsionSpeed: 40
        MaximumPitch: 56
    Selectable:
        Bounds: 1536, 1194, 0, 85
        DecorationBounds: 1706, 1237, 0, 42
    Contrail@1:
        Offset: -598,-683,0
        StartColorAlpha: 128
    Contrail@2:
        Offset: -598,683,0
        StartColorAlpha: 128
    LeavesTrails:
        Offsets: -853,0,171
        MovingInterval: 2
        Image: smokey
        SpawnAtLastPosition: False
        Type: CenterPosition
        RequiresCondition: enable-smoke
    GrantConditionOnDamageState@SmokeTrail:
        Condition: enable-smoke
    Transforms:
        IntoActor: viking-am

MEDIVAC:
    # TODO: Inherits: ^NonLandableHelicopter
    Inherits: ^Helicopter
    Inherits@CARGOPIPS: ^CargoPips
    Buildable:
        Queue: Aircraft
        BuildAtProductionType: Plane
        BuildPaletteOrder: 10
        BuildDuration: 750
        Prerequisites: starport
        Description: TBD
    Valued:
        # Cost: 100
        Cost: 200
        # Oil: 100
        # Supply: 2
    Tooltip:
        Name: Medivac
    UpdatesPlayerStatistics:
        AddToArmyValue: true
    Health:
        HP: 150
    Armor:
        Type: Light
        # Armor: 1
        # Armored, Mechanical
    RevealsShroud:
        Range: 11c0
        Type: GroundPosition
        RevealGeneratedShroud: False
    RevealsShroud@GAPGEN:
        Range: 6c0
        Type: GroundPosition
    Aircraft:
        Speed: 110
        AltitudeVelocity: 0c58
    WithIdleOverlay@ROTOR1AIR:
        Offset: 597,0,213
        Sequence: rotor
        RequiresCondition: airborne
    WithIdleOverlay@ROTOR1GROUND:
        Offset: 597,0,213
        Sequence: slow-rotor
        RequiresCondition: !airborne
    WithIdleOverlay@ROTOR2AIR:
        Offset: -597,0,341
        Sequence: rotor2
        RequiresCondition: airborne
    WithIdleOverlay@ROTOR2GROUND:
        Offset: -597,0,341
        Sequence: slow-rotor2
        RequiresCondition: !airborne
    Cargo:
        Types: Infantry, Vehicle
        MaxWeight: 8
        # Fast loads and unloads
        AfterLoadDelay: 0
        BeforeUnloadDelay: 0
        AfterUnloadDelay: 0
    Selectable:
        DecorationBounds: 1706, 1536
    Armament:
        Weapon: MedivacHeal
        Cursor: heal
        OutsideRangeCursor: heal
        TargetRelationships: Ally
        ForceTargetRelationships: None
    GrantPrerequisiteChargeDrainPower:
        Name: IgniteAfterburners
        Description: TBD
        # Cooldown: 14s
        ChargeInterval: 350
        # 4.3s discharge time
        DischargeModifier: 265
        Prerequisite: medivac-afterburners
        Icon: medivac-afterburners
    GrantConditionOnPrerequisite:
        Condition: afterburners-ignited
        Prerequisites: medivac-afterburners
    # 5.95 speed with afterburners
    SpeedMultiplier:
        Modifier: 170
        RequiresCondition: afterburners-ignited
    Voiced:
        VoiceSet: MedicVoice
    AutoTarget:
    AutoTargetPriority@DEFAULT:
        ValidTargets: Infantry
    AttackFrontal:
        FacingTolerance: 0

# Black Hawk
BANSHEE:
    Inherits: ^Helicopter
    Inherits@AUTOTARGET: ^AutoTargetGroundAssaultMove
    Buildable:
        Queue: Aircraft
        BuildAtProductionType: Helicopter
        # Assumed to be 43 seconds from SC2
        # 25 Ticks = 1 second
        # 43 * 25 = 1075 ticks
        BuildDuration: 1075
        BuildPaletteOrder: 20
        Prerequisites: starport
        Description: TBD
    Valued:
        # Cost: 150
        Cost: 250
        # Oil: 100
        # Supply: 3
    Tooltip:
        Name: Banshee
    UpdatesPlayerStatistics:
        AddToArmyValue: true
    Health:
        HP: 140
    Armor:
        Type: Light
        # Attribute: Mechanical
    RevealsShroud:
        Range: 10c0
        Type: GroundPosition
        RevealGeneratedShroud: False
    RevealsShroud@GAPGEN:
        Range: 8c0
        Type: GroundPosition
    Armament@PRIMARY:
        Weapon: BansheeMissileAG
        LocalOffset: 85,-213,-85, 85,213,-85
        MuzzleSequence: muzzle
        PauseOnCondition: !ammo
        # Infinite Ammo
        AmmoUsage: 0
    AmmoPool:
        Ammo: 24
        ReloadDelay: 8
        AmmoCondition: ammo
    AttackAircraft:
        FacingTolerance: 80
        PersistentTargeting: false
        AttackType: Hover
    Aircraft:
        Speed: 115
        # Speed: SC2 3.85 x 25 ticks/sec = 96.25
    Cloak:
        InitialDelay: 0
        CloakDelay: 50
        CloakSound: appear1.aud
        UncloakSound: appear1.aud
        IsPlayerPalette: true
        UncloakOn: Move
        PauseOnCondition: cloak-force-disabled
    AutoTarget:
        InitialStance: HoldFire
        InitialStanceAI: HoldFire
    WithIdleOverlay@ROTORAIR:
        Sequence: rotor
        RequiresCondition: airborne
    WithIdleOverlay@ROTORGROUND:
        Sequence: slow-rotor
        RequiresCondition: !airborne
    WithMuzzleOverlay:
    LeavesTrails:
        Offsets: -427,0,0
        Image: smokey
        MovingInterval: 3
        SpawnAtLastPosition: False
        Type: CenterPosition
        RequiresCondition: enable-smoke
        TrailWhileStationary: True
        StationaryInterval: 3
    Selectable:
        DecorationBounds: 1621, 1365
    GrantConditionOnDamageState@SmokeTrail:
        Condition: enable-smoke

RAVEN:
    Inherits: ^Helicopter
    Buildable:
        Queue: Aircraft
        BuildDuration: 1350 #34
        BuildPaletteOrder: 320
        Prerequisites: starport #,tech lab
        Description: actor-raven.description
    Valued:
        # Cost: 100
        Cost: 250
        # Oil: 150
        # Supply: 2
    Tooltip:
        Name: actor-raven.name
    UpdatesPlayerStatistics:
        AddToArmyValue: true
    Health:
        HP: 140
    Armor:
        Type: Light
        # Mechanical
    RevealsShroud:
        Range: 11c0
        Type: GroundPosition
    Aircraft:
        CruiseAltitude: 2560
        Speed: 103
        MaximumPitch: 56
    WithIdleOverlay@SPINNER:
        Sequence: spinner
        Offset: -256,0,256
    DetectCloaked:
        DetectionTypes: Cloak
        Range: 9c0
    WithRangeCircle:
        Range: 9c0
        Color: 0000FF80
    Selectable:
        DecorationBounds: 1621, 1365
    # TODO: Figure out how to limit the amount of turrets to be built later
    # Deciding to for now make the ability to place turrets a time limited thing
    # so it isn't totally overpowered ability
    BaseProvider:
        Range: 5c0
    GivesBuildableArea:
        AreaTypes: building
    Production:
        Produces: Raven
        RequiresCondition: auto-turret-enabled
    ProductionQueue:
        Type: Raven
    ProductionBar:
        ProductionType: Raven
    GrantPrerequisiteChargeDrainPower:
        Name: AutoTurret
        Description: actor-auto-turret.description
        ChargeInterval: 100
        DischargeModifier: 50
        Prerequisite: deploy-auto-turret
        Icon: auto-turret
        # Consider adding back in for one ability per Raven if not micro-intensive to deal with
        #AllowMultiple: true
    ProvidesPrerequisite:
        Prerequisite: raven
    GrantConditionOnPrerequisite:
        Condition: auto-turret-enabled
        Prerequisites: deploy-auto-turret

BATTLECRUISER:
    Inherits: ^Helicopter
    AutoTarget:
    AutoTargetPriority@ATTACKGROUNDUNITSFIRST:
        Priority: 2
        ValidTargets: Infantry, Vehicle, Building, AirborneActor, Air
    AutoTargetPriority@ATTACKBUILDINGSSECOND:
        Priority: 1
        ValidTargets: Structure
    Buildable:
        Queue: Aircraft
        BuildAtProductionType: Plane
        BuildDuration: 2625 #64 sec
        BuildPaletteOrder: 50
        Prerequisites: starport
        Description: TBD
    Valued:
        # Cost: 400
        Cost: 700
        # Oil: 300
        # Supply: 6
    Tooltip:
        Name: Battlecruiser
    UpdatesPlayerStatistics:
        AddToArmyValue: true
    Health:
        HP: 550
    Armor:
        Type: Light
        # Armored, Mechanical
    RevealsShroud:
        Range: 12c0
        Type: GroundPosition
        RevealGeneratedShroud: False
    RevealsShroud@GAPGEN:
        Range: 12c0
        Type: GroundPosition
    Armament:
        Weapon: BattlecruiserLaserBattery
        LocalOffset: 0,-640,0, 0,640,0
        # LocalYaw: -40, 24
        # Infinite Ammo
        AmmoUsage: 0
        Recoil: 128
        RecoilRecovery: 38
        MuzzleSequence: muzzle
    AmmoPool:
        Ammo: 8
        AmmoCondition: ammo
    WithMuzzleOverlay:
    AttackAircraft:
        FacingTolerance: 512
        PersistentTargeting: false
        OpportunityFire: true
    Aircraft:
        CruiseAltitude: 2560
        AltitudeVelocity: 0c75
        Speed: 75
        RepulsionSpeed: 40
        MaximumPitch: 56
    Selectable:
        Bounds: 1536, 1194, 0, 85
        DecorationBounds: 1706, 1237, 0, 42
    GrantConditionOnDamageState@SmokeTrail:
        Condition: enable-smoke
    PortableChrono:
        HasDistanceLimit: false
        FlashScreen: true
        ChargeDelay: 2700
    # TODO: Need to see if engine can be tweaked to allow Chronoshiftable to work
    # with Aircraft units (requires Mobile: Locomotor -> ) which Aircraft do not use
    #
    #Chronoshiftable:
    #    ReturnToOrigin: false
    #ChronoshiftPower@advancedchronoshift:
    # ...
